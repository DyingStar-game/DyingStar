[gd_scene load_steps=27 format=3 uid="uid://dlbkch6iuy8gn"]

[ext_resource type="Script" uid="uid://dvpsr7ogx4jae" path="res://addons/fp_controller/scripts/player.gd" id="1_5ras8"]
[ext_resource type="Script" uid="uid://df1l1fnp23q4r" path="res://addons/fp_controller/scripts/smooth_camera.gd" id="2_1py82"]
[ext_resource type="Script" uid="uid://darw4ktv3brra" path="res://addons/fp_controller/scripts/player_state_machine.gd" id="2_wwa58"]
[ext_resource type="Script" uid="uid://7klatkjm163l" path="res://addons/fp_controller/scripts/player_move_state/idle.gd" id="3_xe000"]
[ext_resource type="Script" uid="uid://caj18woq6mfis" path="res://addons/fp_controller/scripts/player_move_state/jump.gd" id="4_1lr3q"]
[ext_resource type="Script" uid="uid://bwj6pwttqrxom" path="res://addons/fp_controller/scripts/player_move_state/walk.gd" id="5_bwgwe"]
[ext_resource type="Script" uid="uid://tnjj583pfk72" path="res://addons/fp_controller/scripts/player_move_state/sprint.gd" id="6_b4xrx"]
[ext_resource type="Script" uid="uid://cqsd1fox52bcj" path="res://addons/fp_controller/scripts/player_move_state/fall.gd" id="7_dv6ye"]
[ext_resource type="Script" uid="uid://x81oo6leus1p" path="res://addons/fp_controller/scripts/player_move_state/crouch.gd" id="9_yxb0u"]
[ext_resource type="Script" uid="uid://bylffmh52hh2h" path="res://addons/fp_controller/scripts/player_move_state/climb.gd" id="10_o7gmx"]
[ext_resource type="Script" uid="uid://bk35bswvdxf86" path="res://addons/fp_controller/scripts/player_move_state/grab.gd" id="11_gkc45"]
[ext_resource type="Script" uid="uid://dlylungjo3kdv" path="res://addons/fp_controller/scripts/player_move_state/slide.gd" id="12_bqyfq"]
[ext_resource type="Script" uid="uid://cfwy76dpxuvoj" path="res://addons/fp_controller/scripts/player_ui.gd" id="12_d7xi0"]
[ext_resource type="ArrayMesh" uid="uid://v721mhcqkdjk" path="res://Models/astronaut/uploads_files_2954422_astronaut_3d_model.obj" id="14_njw88"]
[ext_resource type="Script" uid="uid://c62vv4kkvwuk1" path="res://addons/fp_controller/label_game_server_name.gd" id="14_ttf0e"]
[ext_resource type="Script" uid="uid://du8smr1o81j1c" path="res://addons/fp_controller/label_game_server_number_players.gd" id="15_vfxpb"]
[ext_resource type="Script" uid="uid://cp4hqc0wqd0l0" path="res://addons/fp_controller/label_game_server_number.gd" id="16_mkvci"]
[ext_resource type="Script" uid="uid://bwj71lom8cof6" path="res://addons/fp_controller/label_universe_number_players.gd" id="17_a8wmt"]

[sub_resource type="Animation" id="Animation_5udu4"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Placeholder_Collider:shape:height")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.8]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Placeholder_Collider/Placeholder_BodyMesh:mesh:height")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.8]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Placeholder_Collider:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(2.08165e-12, 0.9, 2.08165e-12)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Placeholder_Collider/Placeholder_BodyMesh:mesh:radius")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.5]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Placeholder_Collider:shape:radius")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.5]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("CameraPivot:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(2.08165e-12, 1.5, 2.08165e-12)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("CrouchRaycast:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 1.8, 0)]
}

[sub_resource type="Animation" id="Animation_abp0t"]
resource_name = "crouch"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Placeholder_Collider:shape:height")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [1.8, 0.9]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Placeholder_Collider/Placeholder_BodyMesh:mesh:height")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [1.8, 0.9]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Placeholder_Collider:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(2.08165e-12, 0.9, 2.08165e-12), Vector3(2.08165e-12, 0.45, 2.08165e-12)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Placeholder_Collider/Placeholder_BodyMesh:mesh:radius")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.5, 0.45]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Placeholder_Collider:shape:radius")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.5, 0.45]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("CameraPivot:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(2.08165e-12, 1.5, 2.08165e-12), Vector3(2.08165e-12, 0.6, 2.08165e-12)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("CrouchRaycast:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 1.8, 0), Vector3(0, 0.9, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4kkkr"]
_data = {
&"RESET": SubResource("Animation_5udu4"),
&"crouch": SubResource("Animation_abp0t")
}

[sub_resource type="Animation" id="Animation_caog8"]
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CameraPivot/SmoothCamera:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.3),
"transitions": PackedFloat32Array(2),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_463io"]
resource_name = "view_bobbing"
length = 0.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CameraPivot/SmoothCamera:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.366667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -0.1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gsp4e"]
_data = {
&"RESET": SubResource("Animation_caog8"),
&"view_bobbing": SubResource("Animation_463io")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_irl70"]
height = 1.8

[sub_resource type="CapsuleMesh" id="CapsuleMesh_aufvi"]
height = 1.8

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_5ras8")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
&"": SubResource("AnimationLibrary_4kkkr")
}

[node name="ViewBobbingPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
&"": SubResource("AnimationLibrary_gsp4e")
}

[node name="CrouchRaycast" type="RayCast3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, 0)
target_position = Vector3(0, 1, 0)

[node name="RaycastClimbDetector" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.51335, 0)

[node name="BottomRaycast" type="RayCast3D" parent="RaycastClimbDetector"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1.27518, 2.08165e-12)
target_position = Vector3(2.08165e-12, 2.08165e-12, -0.75)

[node name="MiddleRaycast" type="RayCast3D" parent="RaycastClimbDetector"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1.92518, 2.08165e-12)
target_position = Vector3(2.08165e-12, 2.08165e-12, -0.75)

[node name="TopRaycast" type="RayCast3D" parent="RaycastClimbDetector"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 2.82518, 2.08165e-12)
target_position = Vector3(2.08165e-12, 2.08165e-12, -0.75)

[node name="SurfaceRaycasts" type="Node3D" parent="RaycastClimbDetector"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, -0.75)

[node name="ProjectedHeightRaycast" type="RayCast3D" parent="RaycastClimbDetector/SurfaceRaycasts"]
unique_name_in_owner = true
target_position = Vector3(0, 0.5, 0)
hit_from_inside = true

[node name="SurfaceRaycast" type="RayCast3D" parent="RaycastClimbDetector/SurfaceRaycasts"]
unique_name_in_owner = true
target_position = Vector3(2.08165e-12, -2.7, 2.08165e-12)
hit_from_inside = true

[node name="ClimbableRaycasts" type="Node3D" parent="RaycastClimbDetector"]

[node name="LeftClimbableRaycast" type="RayCast3D" parent="RaycastClimbDetector/ClimbableRaycasts"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 2, -0.75)
target_position = Vector3(-0.4, 2.08165e-12, 2.08165e-12)

[node name="RightClimbableRaycast" type="RayCast3D" parent="RaycastClimbDetector/ClimbableRaycasts"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 2, -0.75)
target_position = Vector3(0.4, 2.08165e-12, 2.08165e-12)

[node name="Placeholder_Collider" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 0.9, 2.08165e-12)
shape = SubResource("CapsuleShape3D_irl70")

[node name="Placeholder_BodyMesh" type="MeshInstance3D" parent="Placeholder_Collider"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.10745, 0)
visible = false
mesh = SubResource("CapsuleMesh_aufvi")
skeleton = NodePath("../..")

[node name="CameraPivot" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1.5, 2.08165e-12)

[node name="SmoothCamera" type="Camera3D" parent="CameraPivot"]
script = ExtResource("2_1py82")

[node name="ReflectionProbe" type="ReflectionProbe" parent="CameraPivot/SmoothCamera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0138313, -0.00632906, -0.0253583)
visible = false

[node name="StateMachine" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("2_wwa58")
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("3_xe000")

[node name="Jump" type="Node" parent="StateMachine"]
script = ExtResource("4_1lr3q")

[node name="Walk" type="Node" parent="StateMachine"]
script = ExtResource("5_bwgwe")

[node name="Sprint" type="Node" parent="StateMachine"]
script = ExtResource("6_b4xrx")

[node name="Fall" type="Node" parent="StateMachine"]
script = ExtResource("7_dv6ye")

[node name="Crouch" type="Node" parent="StateMachine"]
script = ExtResource("9_yxb0u")

[node name="Climb" type="Node" parent="StateMachine"]
script = ExtResource("10_o7gmx")

[node name="Grab" type="Node" parent="StateMachine"]
script = ExtResource("11_gkc45")

[node name="Slide" type="Node" parent="StateMachine"]
script = ExtResource("12_bqyfq")

[node name="UserInterface" type="Control" parent="."]
top_level = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(576, 324)
mouse_filter = 2
script = ExtResource("12_d7xi0")

[node name="ColorRect" type="ColorRect" parent="UserInterface"]
layout_mode = 0
offset_right = 657.0
offset_bottom = 125.0
color = Color(0, 0, 0, 0.690196)

[node name="CrosshairContainer" type="CenterContainer" parent="UserInterface"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Crosshair" type="Control" parent="UserInterface/CrosshairContainer"]
unique_name_in_owner = true
layout_mode = 2
mouse_filter = 2

[node name="Label" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 100.0
offset_right = 312.0
offset_bottom = 23.0
text = "Connected to game server: "

[node name="Label4" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 1.0
offset_top = 20.0
offset_right = 311.0
offset_bottom = 43.0
text = "Number of players on this game server: "

[node name="Label2" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 62.0
offset_top = 40.0
offset_right = 312.0
offset_bottom = 63.0
text = "Number of active game servers: "

[node name="Label3" type="Label" parent="UserInterface"]
layout_mode = 2
offset_top = 60.0
offset_right = 313.0
offset_bottom = 83.0
text = "Number of total players in the universe: "

[node name="Labelx" type="Label" parent="UserInterface"]
layout_mode = 2
offset_top = 80.0
offset_right = 20.0
offset_bottom = 103.0
text = "x: "

[node name="Labely" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 188.0
offset_top = 80.0
offset_right = 208.0
offset_bottom = 103.0
text = "y: "

[node name="Labelz" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 376.0
offset_top = 80.0
offset_right = 396.0
offset_bottom = 103.0
text = "z: "

[node name="LabelGameServerName" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 320.0
offset_right = 442.0
offset_bottom = 23.0
text = "Soon™"
script = ExtResource("14_ttf0e")

[node name="LabelGameServerNumberPlayers" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 320.0
offset_top = 20.0
offset_right = 442.0
offset_bottom = 43.0
text = "Soon™"
script = ExtResource("15_vfxpb")

[node name="LabelGameServerNumber" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 320.0
offset_top = 40.0
offset_right = 442.0
offset_bottom = 63.0
text = "Soon™"
script = ExtResource("16_mkvci")

[node name="LabelUniverseNumberPlayers" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 320.0
offset_top = 60.0
offset_right = 442.0
offset_bottom = 83.0
text = "Soon™"
script = ExtResource("17_a8wmt")

[node name="LabelXValue" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 18.0
offset_top = 80.0
offset_right = 178.0
offset_bottom = 103.0

[node name="LabelYValue" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 205.0
offset_top = 80.0
offset_right = 365.0
offset_bottom = 103.0

[node name="LabelZValue" type="Label" parent="UserInterface"]
layout_mode = 2
offset_left = 393.0
offset_top = 80.0
offset_right = 553.0
offset_bottom = 103.0

[node name="UploadsFiles2954422Astronaut3dModel" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.999969, 0, -0.00790627, 0, 1, 0, 0.00790627, 0, -0.999969, 0.00354815, 0, 0.305197)
mesh = ExtResource("14_njw88")

[connection signal="transitioned" from="StateMachine" to="." method="_on_state_machine_transitioned"]
[connection signal="draw" from="UserInterface/CrosshairContainer/Crosshair" to="UserInterface" method="_on_crosshair_draw"]
